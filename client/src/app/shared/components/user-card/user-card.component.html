<div class="card" style="width: 25rem;">
  <div class="card-body">
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <h4><b> Alias:</b> {{ user.alias }}</h4>
      </li>
      <li class="list-group-item">
        <h4><b> Nombre:</b> {{ user.name }}</h4>
      </li>
      <li class="list-group-item">
        <h4><b> Apellidos:</b> {{ user.surname }}</h4>
      </li>
      <li class="list-group-item">
        <h4><b> Cumpleaños:</b> {{ user.birthdate | date: "dd-MM-yyyy" }}</h4>
      </li>
      <li class="list-group-item">
        <h4><b> Email:</b> {{ user.email }}</h4>
        <button
          *ngIf="changingEmail === false"
          type="button"
          class="btn btn-outline-warning"
          (click)="changingEmail = true"
        >
          Cambiar
        </button>
        <form
          *ngIf="changingEmail === true"
          [formGroup]="formNewEmail"
          (submit)="modifyEmail()"
        >
          <input
            type="text"
            formControlName="newEmail"
            class="form-control"
            placeholder="Introduzca nuevo email"
            [ngClass]="{
              'is-invalid':
                formNewEmail.controls.newEmail.invalid &&
                formNewEmail.controls.newEmail.dirty
            }"
          />
          <input
            formControlName="password"
            type="password"
            class="form-control"
            placeholder="Introduzca su actual contraseña"
            [ngClass]="{
              'is-invalid':
                formNewEmail.controls.password.invalid &&
                formNewEmail.controls.password.dirty
            }"
          />
          <button
            type="submit"
            class="btn btn-outline-success"
            [disabled]="formNewEmail.invalid"
          >
            Cambiar
          </button>
          <button
            type="button"
            class="btn btn-outline-primary"
            (click)="cancelNewEmail()"
          >
            Cancelar
          </button>
        </form>
      </li>
      <li class="list-group-item">
        <h4><b> Password:</b> *****</h4>
        <button
          *ngIf="changingPass === false"
          type="button"
          class="btn btn-outline-warning"
          (click)="changingPass = true"
        >
          Cambiar
        </button>
        <form
          *ngIf="changingPass === true"
          [formGroup]="formNewPassword"
          (submit)="modifyPassword()"
        >
          <input
            formControlName="password"
            type="password"
            class="form-control"
            placeholder="Introduzca su actual contraseña"
            [ngClass]="{
              'is-invalid':
                formNewPassword.controls.password.invalid &&
                formNewPassword.controls.password.dirty
            }"
          />
          <input
            type="password"
            formControlName="newPassword"
            class="form-control"
            placeholder="Introduzca nueva contraseña"
            [ngClass]="{
              'is-invalid':
                formNewPassword.controls.newPassword.invalid &&
                formNewPassword.controls.newPassword.dirty
            }"
          />
          <button
            type="submit"
            class="btn btn-outline-success"
            [disabled]="formNewPassword.invalid"
          >
            Cambiar
          </button>
          <button
            type="button"
            class="btn btn-outline-primary"
            (click)="cancelNewPassword()"
          >
            Cancelar
          </button>
        </form>
      </li>
    </ul>
  </div>
  <button
    (click)="deletingUser = true"
    *ngIf="deletingUser === false"
    type="button"
    class="btn btn-outline-danger"
  >
    ELIMINAR CUENTA
  </button>
  <form *ngIf="deletingUser === true" (submit)="deleteUser(pass.value)">
    <input
      #pass
      type="password"
      class="form-control"
      placeholder="Introduzca su contraseña"
    />
    <button
      (click)="deletingUser = false"
      type="button"
      class="btn btn-outline-primary"
    >
      Cancelar
    </button>
    <button type="submit" class="btn btn-outline-danger">
      ELIMINAR CUENTA
    </button>
  </form>
</div>
